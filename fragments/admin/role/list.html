
<h2>{{.Messages.RoleListTitle}}</h2>

<div>
    {{$editLinkLabel := .Messages.EditLinkLabel}}
    {{$deleteLinkLabel := .Messages.DeleteLinkLabel}}
    {{$newLinkLabel := .Messages.NewLinkLabel}}
    {{range .Groups}}
        <div>
            <p>{{.DisplayName}}</p>
            <ul>
                {{$groupName := .Name}}
                {{range .Roles}}
                    <li>
                        <ul>
                            <li>{{.Name}}</li>
                            <li>
                                {{range .Actions}}
                                    {{.}}
                                {{end}}
                            </li>
                            <li><a href="/admin/role/edit/{{.Name}}/{{$groupName}}">{{$editLinkLabel}}</a></li>
                            <li>
                                <!-- delete role link (use an empty action form) -->
                                <form action="/admin/role/save" method="POST">
                                    <div class="hidden">
                                        <input type="text" name="RoleName" value="{{.Name}}"/>
                                        <input type="text" name="Group" value="{{$groupName}}"/>
                                    </div>
                                    <div><button type="submit">{{$deleteLinkLabel}}</button></div>
                                </form>
                            </li>
                        </ul>
                    <li>
                {{end}}
                <li><a href="/admin/role/edit/new/{{$groupName}}">{{$newLinkLabel}}</a><li>
            </ul>
        </div>
    {{end}}
</div>
